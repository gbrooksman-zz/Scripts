SPOOL C:\ORATEMP\6.1V20COMPLETEORA.LOG



ALTER TABLE T_DOCUMENT_QUEUE ADD F_DATE_ADDED DATE DEFAULT SYSDATE;

UPDATE T_DOCUMENT_QUEUE SET F_DATE_ADDED = F_DATE_STAMP;
COMMIT;


ALTER TABLE T_EMPLOYEES MODIFY F_PASSWORD VARCHAR2(12);


CREATE TABLE WERCS.T_PRODUCT_DATA_ARCHIVE(	
    F_ID NUMBER(*,0) NOT NULL ENABLE, 
    F_ALIAS VARCHAR2(50) NOT NULL ENABLE,   
    F_XML NCLOB NOT NULL ENABLE, 
    F_USER_UPDATED VARCHAR2(15),     
    F_DATE_STAMP TIMESTAMP (6) NOT NULL ENABLE,
     CONSTRAINT T_PRODUCT_DATA_ARCHIVE_PK PRIMARY KEY (F_ID)
    USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    STORAGE(INITIAL 500K NEXT 500K MINEXTENTS 1 MAXEXTENTS 2147483645
    PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
    TABLESPACE WERCSIDX  ENABLE
  ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSDATA ;
   
CREATE SEQUENCE T_PRODUCT_DATA_ARCHIVE_SEQ INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE;

CREATE OR REPLACE TRIGGER WERCS.T_PRODUCT_DATA_ARCHIVE_TRIG BEFORE INSERT
ON WERCS.T_PRODUCT_DATA_ARCHIVE
FOR EACH ROW
BEGIN
SELECT T_PRODUCT_DATA_ARCHIVE_SEQ.NEXTVAL
INTO :NEW.F_ID
FROM DUAL;
END T_PRODUCT_DATA_ARCHIVE_TRIG;
/

ALTER TRIGGER WERCS.T_PRODUCT_DATA_ARCHIVE_TRIG ENABLE;



INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','LB_DATACODE','LB', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('COMMON','SHOW_CPT_NTS_ON_PHR_ASGN','0', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','SAVE_PDF_HISTORY','0', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('DOCUWERCS','CHECKSUPPLIER_ON_UNAUTH_PREV','0', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('COMMON','ENMISSING','0', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','ALWAYS_GEN_DATA','1', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','GEN_DATA_ON_TEMP_CHANGE','1', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','LABEL_ORIENTATION_FLAG','0', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','FTPSERVER','', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','FTPUSERNAME','', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','FTPPASSWORD','', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT,F_KEY ,F_VALUE,F_DATE_STAMP,F_USER_UPDATED) 
VALUES ('LABELS','FTPDIRECTORY','WERCS_Labels', sysdate, 'ADMIN');

INSERT INTO T_LOOKUP (F_PARENT, F_KEY, F_VALUE, F_DATE_STAMP, F_USER_UPDATED) 
VALUES ('SECURITY', 'INITIAL_LABEL_SECURITY_LVL', '2', sysdate, 'ADMIN');

COMMIT;


--LABEL HISTORY


ALTER TABLE T_LABEL_HISTORY MODIFY F_TEMPLATE VARCHAR2(255);
ALTER TABLE T_LABEL_HISTORY MODIFY F_PARAMS VARCHAR2(4000);
ALTER TABLE T_LABEL_HISTORY ADD F_PDF_PREVIEW LONG RAW NULL;
ALTER TABLE T_LABEL_HISTORY ADD F_TEMPLATE_ID NUMBER(19) NULL;
ALTER TABLE T_LABEL_HISTORY ADD F_TEMPLATE_VERSION NUMBER(5) NULL;
ALTER TABLE T_LABEL_HISTORY ADD F_TEMPLATE_VERSION_MINOR NUMBER(5) NULL;
ALTER TABLE T_LABEL_HISTORY ADD F_PRODUCT_REV_NUM NUMBER(10,5) NULL;
COMMIT;


REM WERCS T_PUBLISHED_TEMPLATES

  CREATE TABLE WERCS.T_PUBLISHED_TEMPLATES 
   (	F_TEMPLATE_ID NUMBER(19,0) NOT NULL ENABLE, 
	F_TEMPLATE_VERSION NUMBER(5,0) NOT NULL ENABLE, 
	F_TEMPLATE_VERSION_MINOR NUMBER(5,0) NOT NULL ENABLE, 
	F_ALIAS VARCHAR2(50) NOT NULL ENABLE, 
	F_DATE_STAMP DATE, 
	F_USER_UPDATED VARCHAR2(15), 
	F_PRODUCT_REV_NUM NUMBER(10,5), 
	F_DATA NCLOB NOT NULL ENABLE, 
	 CONSTRAINT T_PUBLISHED_TEMPLATES_PK PRIMARY KEY (F_TEMPLATE_ID, F_TEMPLATE_VERSION, F_ALIAS) 
	 USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    STORAGE(INITIAL 500K NEXT 500K MINEXTENTS 1 MAXEXTENTS 2147483645
    PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
    TABLESPACE WERCSIDX ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSDATA ;
 


  CREATE TABLE WERCS.T_LABEL_SCRIPTS 
   (	F_SCRIPT_ID NUMBER(19,0) NOT NULL ENABLE, 
	F_TEMPLATE_ID NUMBER(19,0), 
	F_DATA CLOB, 
	F_DATE_STAMP DATE, 
	F_USER_UPDATED VARCHAR2(15), 
	F_SCRIPT_TYPE NUMBER(3,0), 
	 CONSTRAINT T_LABEL_SCRIPTS_PK PRIMARY KEY (F_SCRIPT_ID) 
	 USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    STORAGE(INITIAL 500K NEXT 500K MINEXTENTS 1 MAXEXTENTS 2147483645
    PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
    TABLESPACE WERCSIDX ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSDATA ;
 

REM WERCS I_SUPPLIERS_SEQ
   CREATE SEQUENCE  WERCS.T_LABEL_SCRIPTS_SEQ INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
 COMMIT;
 
CREATE OR REPLACE TRIGGER TR_T_LABEL_SCRIPTS BEFORE INSERT
ON T_LABEL_SCRIPTS
FOR EACH ROW
BEGIN
SELECT T_LABEL_SCRIPTS_SEQ.NEXTVAL
INTO :NEW.F_SCRIPT_ID
FROM DUAL;
END TR_T_LABEL_SCRIPTS;
/

  CREATE TABLE WERCS.T_LABEL_TEMPLATES 
   (	F_TEMPLATE_ID NUMBER(19,0) NOT NULL ENABLE, 
	F_NAME VARCHAR2(255), 
	F_VERSION NUMBER(5,0) NOT NULL ENABLE, 
	F_VERSION_MINOR NUMBER(5,0) NOT NULL ENABLE, 
	F_DATA NCLOB, 
	F_FINALIZED NUMBER(3,0), 
	F_USER_UPDATED VARCHAR2(15), 
	F_DATE_STAMP DATE, 
	 CONSTRAINT T_LABEL_TEMPLATES_PK PRIMARY KEY (F_TEMPLATE_ID, F_VERSION) 
	 USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    STORAGE(INITIAL 500K NEXT 500K MINEXTENTS 1 MAXEXTENTS 2147483645
    PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
    TABLESPACE WERCSIDX ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSDATA ;
 


  CREATE TABLE WERCS.T_SEC_LABEL_TEMPLATES 
   (	F_TEMPLATE_ID NUMBER(19,0) NOT NULL ENABLE, 
	F_USER_NAME VARCHAR2(15) NOT NULL ENABLE, 
	F_RIGHTS NUMBER(5,0) NOT NULL ENABLE, 
	F_USER_UPDATED VARCHAR2(15) NOT NULL ENABLE, 
	F_DATE_STAMP DATE NOT NULL ENABLE, 
	 CONSTRAINT T_SEC_LABEL_TEMPLATES_PK PRIMARY KEY (F_TEMPLATE_ID, F_USER_NAME) 
	 USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    STORAGE(INITIAL 500K NEXT 500K MINEXTENTS 1 MAXEXTENTS 2147483645
    PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
    TABLESPACE WERCSIDX ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSDATA ;
 



 

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2280 , 'Delete History Label Data' , 'LABEL' ,-1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2280 , 2 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2279 , 'Reprint History Label Data' , 'LABEL' ,-1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2279 , 2 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2278 , 'Generate Product Label Data' , 'LABEL' ,-1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2278 , 2 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;

INSERT INTO T_SEC_R_S_R(F_ROLE_ID,F_SID,F_RIGHTS,f_user_updated,f_Date_stamp) 
SELECT F_ROLE_ID, -1039, 2, 'ADMIN', sysdate FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS(F_SID,F_NAME,F_PARENT,F_TYPE,F_URL,F_ICON,F_User_Updated,F_Date_Stamp) 
VALUES (-1039,'COMPONENTSSUMMARY','REPORT WRITER',0,NULL,NULL,'ADMIN', sysdate);

INSERT INTO T_SEC_R_S_R(F_ROLE_ID,F_SID,F_RIGHTS,f_user_updated,f_Date_stamp)
 SELECT F_ROLE_ID, -1030, 2, 'ADMIN', sysdate FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS(F_SID,F_NAME,F_PARENT,F_TYPE,F_URL,F_ICON,F_User_Updated,F_Date_Stamp)
 VALUES (-1030,'ARCHIVE PRODUCT DATA','ADMINISTRATOR',-7,NULL,NULL,'ADMIN', sysdate);

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2269 , 'GHS_PROJECT_SUBMENU' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2269 , -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2270 , 'GHS_SELECT_PROJECT' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2270 , -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2271 , 'GHS_ADD_PROJECT' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2271 , -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;


INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2272 , 'GHS_VIEW_PROJECT' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2272 , -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2273, 'GHS_CLASSIFICATION_MENU' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2273, -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;


INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2274, 'GHS_HEALTH_ENVIRONMENTAL' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2274, -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2275, 'GHS_PHYSICAL_HAZARD' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2275, -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES;

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2276, 'NEW_PROD_CLASS' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2276, -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES; 

INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2277, 'RESUME_PROD_CLASS' , 'GHS WIZARD' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP )
SELECT -2277, -1 , F_ROLE_ID, 'ADMIN', sysdate
FROM T_SEC_ROLES; 
 
INSERT INTO T_SEC_OBJECTS ( F_SID , F_NAME , F_PARENT , F_TYPE , F_DATE_STAMP , F_USER_UPDATED )
VALUES (-2024 , 'TRANS_MANAGER_SAVE' , 'TRANS MANAGER' , -1 ,sysdate, 'ADMIN');

INSERT INTO T_SEC_R_S_R ( F_SID , F_RIGHTS , F_ROLE_ID, F_USER_UPDATED, F_DATE_STAMP ) 
SELECT -2024 , -1 , F_ROLE_ID, 'ADMIN', sysdate 
FROM T_SEC_ROLES; 
 

COMMIT;




 
INSERT INTO T_LABEL_SCRIPTS 
(F_TEMPLATE_ID, F_DATA,F_USER_UPDATED, F_SCRIPT_TYPE)
VALUES(0,'///WERCSSCRIPTS' || CHR(13) || CHR(10) ||
'            function Wercs_SetTemplateIDTextTest(tempID)' || CHR(13) || CHR(10) ||
'            {' || CHR(13) || CHR(10) ||
'				Wercs_SetTemplateIDText(tempID);' || CHR(13) || CHR(10) ||
'            }' || CHR(13) || CHR(10) || CHR(13) || CHR(10) ||
'            //Saves Label Field value to all langs or jus the lang passed in' || CHR(13) || CHR(10) ||
'            //function Wercs_SaveLabelField(dc, val, lang);' || CHR(13) || CHR(10) || CHR(13) || CHR(10) || CHR(13) || CHR(10) ||
'            //Retrieved the value for datacode... uses template language unless a language is passed in' || CHR(13) || CHR(10) ||
'            //function Wercs_GetLabelField(dc, lang);' || CHR(13) || CHR(10) || CHR(13) || CHR(10) ||
'            //sets connection string for use in (Wercs_GetDBDataString)' || CHR(13) || CHR(10) ||
'            //function Wercs_SetConnectionString(connStr);' || CHR(13) || CHR(10) || CHR(13) || CHR(10) ||
'            //Get a single string for a column via query usein ght eset Connection string' || CHR(13) || CHR(10) ||
'            //function Wercs_GetDBDataString(query);' || CHR(13) || CHR(10) || CHR(13) || CHR(10) ||
'            ///WERCSSCRIPTS END' || CHR(13) || CHR(10),'WERCS',3);

COMMIT;



DROP INDEX WERCS.IDXPDF_UPPERPRODUCTNAME;
DROP INDEX IDXPDF_UPPRODNAME_AUTH;

DROP INDEX WERCS.IDXRTF_UPPERPRODUCTNAME;
DROP INDEX IDXRTF_UPPRODNAME_AUTH;

DROP INDEX WERCS.IDXHTML_UPPERPRODUCTNAME;
DROP INDEX IDXHTML_UPPRODNAME_AUTH;



ALTER TABLE T_PDF_MSDS MODIFY F_PRODUCT_NAME NVARCHAR2(2000);

ALTER TABLE T_HTML_MSDS MODIFY F_PRODUCT_NAME NVARCHAR2(2000);

ALTER TABLE T_RTF_MSDS MODIFY F_PRODUCT_NAME NVARCHAR2(2000);

ALTER TABLE T_DOC_ARCHIVE MODIFY F_ALIAS_NAME NVARCHAR2(2000);



CREATE INDEX WERCS.IDXPDF_UPPERPRODUCTNAME ON WERCS.T_PDF_MSDS (UPPER(F_PRODUCT_NAME)) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 1048576 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSDATA ;

CREATE INDEX IDXPDF_UPPRODNAME_AUTH ON 
  T_PDF_MSDS(UPPER(F_PRODUCT_NAME), F_AUTHORIZED) 
  TABLESPACE WERCSIDX PCTFREE 10
  STORAGE(INITIAL 1048576 NEXT 1048576 PCTINCREASE 0 ) 
;




CREATE INDEX WERCS.IDXRTF_UPPERPRODUCTNAME ON WERCS.T_RTF_MSDS (UPPER(F_PRODUCT_NAME)) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 1048576 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSDATA ;

CREATE INDEX IDXRTF_UPPRODNAME_AUTH ON 
  T_RTF_MSDS(UPPER(F_PRODUCT_NAME), F_AUTHORIZED) 
  TABLESPACE WERCSIDX PCTFREE 10
  STORAGE(INITIAL 1048576 NEXT 1048576 PCTINCREASE 0 ) 
;




CREATE INDEX WERCS.IDXHTML_UPPERPRODUCTNAME ON WERCS.T_HTML_MSDS (UPPER(F_PRODUCT_NAME)) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 1048576 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSDATA ;

CREATE INDEX IDXHTML_UPPRODNAME_AUTH ON 
  T_HTML_MSDS(UPPER(F_PRODUCT_NAME), F_AUTHORIZED) 
  TABLESPACE WERCSIDX PCTFREE 10
  STORAGE(INITIAL 1048576 NEXT 1048576 PCTINCREASE 0 ) 
;





CREATE INDEX WERCS.IDXT_REP_PROD_ALIAS_FMT 
ON WERCS.T_REP_PROD_ALIAS_TEXT  (F_ALIAS, F_FORMAT) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 


CREATE INDEX WERCS.IDXT_MESSAGES_RCPT_STAT 
ON WERCS.T_MESSAGES  (F_RECIPIENT, F_STATUS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 

CREATE INDEX WERCS.IDXT_REP_PROD_DS_ALIAS_DS_PRNT 
ON WERCS.T_REP_PROD_DATASETS  (F_ALIAS, F_DATASET, F_PRINTS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 


CREATE BITMAP INDEX WERCS.IDXT_EMAIL_DATA_STAT
ON WERCS.T_EMAIL_DATA  (F_STATUS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 500K NEXT 500K MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 


CREATE INDEX WERCS.IDXT_DOC_DOM_A_L_F_S_P_DT 
ON WERCS.T_DOC_DOM  (F_ALIAS, F_LANGUAGE, F_FORMAT, F_SUBFORMAT, F_PLANT, F_DOC_TYPE) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 




CREATE INDEX WERCS.IDXT_SEC_USERS_UNAME
ON WERCS.T_SEC_USERS   (F_USER_NAME) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 500K NEXT 500K MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 



CREATE BITMAP INDEX WERCS.IDXT_SEC_USER_ROLES_UID
ON WERCS.T_SEC_USER_ROLES   (F_USER_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 500K NEXT 500K MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 



CREATE INDEX WERCS.IDXT_LOOKUP_UP_PARENT
ON WERCS.T_LOOKUP   (UPPER(F_PARENT)) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 


CREATE INDEX WERCS.IDXT_DOC_FT_A_L_F_S_P_DT 
ON WERCS.T_DOC_FULL_TEXT   (F_ALIAS, F_LANGUAGE, F_FORMAT, F_SUBFORMAT, F_PLANT, F_DOC_TYPE) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 1M NEXT 1M MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE WERCSIDX ; 







INSERT INTO T_WERCS_VERSION_HISTORY (F_MAJ_VERSION, F_MIN_VERSION,F_ENTITY, F_DATE_STAMP)
VALUES ('6.1', '20', 'DB Version', sysdate);



COMMIT;

SPOOL OFF;

